import{c as f,e as x,f as h,r as t,B as c,j as e,L as g}from"./index-5e883bd7.js";import{u as j}from"./formik.esm-b57679b9.js";import{c as b,a as d}from"./index.esm-07ed65f9.js";const y=()=>{const{user:r}=f(a=>a.auth),i=x(),[m,{isSuccess:n,isError:o,error:u,isLoading:l}]=h(),s=j({initialValues:{email:"",password:""},validationSchema:b({email:d().email().required("Enter Email"),password:d().required("Enter Password")}),onSubmit:(a,{resetForm:p})=>{m(a),p()}});return t.useEffect(()=>{n&&(r.role==="admin"?(c.success("Login Success"),i("/admin")):r.role==="customer"&&i("/"))},[n]),t.useEffect(()=>{o&&c.error(u.message||"Unable to Login User")},[o]),t.useEffect(()=>{r&&(r.role==="admin"?i("/admin"):r.role==="customer"&&i("/"))},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"h-screen flex justify-center items-center",children:e.jsx("div",{className:"card card-compact w-96 bg-gray-800 shadow-xl",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h1",{className:"text-xl font-bold text-center",children:"Login User"}),e.jsxs("form",{onSubmit:s.handleSubmit,children:[e.jsx("input",{...s.getFieldProps("email"),type:"email",name:"email",placeholder:"Enter Email",className:`input input-bordered w-full my-3 ${s.errors.email&&s.touched.email&&"input-error"}`}),e.jsx("input",{...s.getFieldProps("password"),type:"password",name:"password",placeholder:"Enter Password",className:`input input-bordered w-full my-3 ${s.errors.password&&s.touched.password&&"input-error"}`}),e.jsx("button",{disabled:l,type:"submit",className:"btn btn-success w-full",children:l?e.jsxs("div",{children:[" ",e.jsx("span",{className:"loading loading-spinner loading-md text-white"}),e.jsx("span",{className:"text-white font-semibold",children:"Verifying Please Wait..."})]}):e.jsxs("div",{children:[e.jsx("span",{className:"font-bold",children:"Login"}),e.jsxs("p",{children:[" ",e.jsx(g,{to:"/register",children:"Register"})," "]})]})})]})]})})})})};export{y as default};
